import {Component,OnInit} from '@angular/core';
// import { HighchartsService } from './highcharts.service';

import * as Highcharts from 'highcharts';
// declare var require: any;

@Component({
  selector: 'app-highchart',
  templateUrl: './highchart.component.html',
  styleUrls: ['./highchart.component.css']
})
export class HighchartComponent implements OnInit {


    ranges = [[1.0, 175.21484761886964, 233.36796196959355],
 [1.5, 191.5872432342056, 249.6263747403773],
 [2.0, 204.1483457697121, 261.88704314547925],
 [2.5, 214.4771200749329, 271.844016200184],
 [3.0, 223.32163451447204, 280.2878903860387],
 [3.5000000000000004, 231.10009995040852, 287.655626932032],
 [4.0, 238.071841326086, 294.2156790557189],
 [4.5, 244.40959040690592, 300.1454694242638],
 [5.0, 250.23461473350815, 305.5687222701389],
 [5.5, 255.63555925554616, 310.5753434565744],
 [6.0, 260.67933039167025, 315.23283269919057],
 [6.5, 265.4177586165148, 319.59323072684253],
 [7.000000000000001, 269.8918717006578, 323.69755280576595],
 [7.5, 274.1347427878681, 327.57873023473024],
 [8.0, 278.1734507275829, 331.26362655005096],
 [8.5, 282.03046685407406, 334.7744583470597],
 [9.0, 285.7246594610326, 338.1298207366826],
 [9.5, 289.272036481211, 341.3454430099962],
 [10.0, 292.68630461867014, 344.43475576689025],
 [15.0, 321.5140897102001, 370.3335114014823],
 [20.0, 344.2769572289416, 390.62306101059806],
 [21.0, 348.3628676000523, 394.25761024752273],
 [22.0, 352.326029970967, 397.7821768758545],
 [23.0, 356.17698845088216, 401.2067398842669],
 [24.0, 359.9250488642352, 404.5400997794069],
 [25.0, 363.578472354556, 407.7900657103797],
 [26.0, 367.1446325123358, 410.9636070329899],
 [27.0, 370.6301440391263, 414.06697718781726],
 [28.000000000000004, 374.040968973254, 417.1058158008845],
 [29.0, 377.3825050612835, 420.0852334931032],
 [30.0, 380.6596598003731, 423.0098828415952],
 [31.0, 383.8769128893841, 425.8840181620494],
 [32.0, 387.0383692347967, 428.7115462006721],
 [33.0, 390.1478042081992, 431.49606938427183],
 [34.0, 393.2087025077307, 434.2409229404267],
 [35.0, 396.2242917096344, 436.9492069398863],
 [36.0, 399.1975713885304, 439.6238141112587],
 [37.0, 402.13133852206846, 442.2674541195704],
 [38.0, 405.0282097667156, 444.8826748752296],
 [39.0, 407.8906410888417, 447.4718813405541],
 [40.0, 410.72094515312347, 450.03735222162175],
 [41.0, 413.52130680414825, 452.58125486944766],
 [42.0, 416.2937969236005, 455.1056586630263],
 [43.0, 419.0403849019793, 457.6125471051385],
 [44.0, 421.762949928358, 460.1038288279974],
 [45.0, 424.4632912728063, 462.5813476783233],
 [46.0, 427.14313771241285, 465.046892029105],
 [47.0, 429.8041562325366, 467.5022034472023],
 [48.0, 432.4479601191454, 469.9489848313851],
 [49.0, 435.0761165453523, 472.3889081237927],
 [50.0, 437.6901537450207, 474.8236216887341],
 [51.0, 440.2915678582908, 477.2547574459335],
 [52.0, 442.881829527738, 479.6839378404397],
 [53.0, 445.4623903195144, 482.112782728414],
 [54.0, 448.0346890409756, 484.54291625668304],
 [55.00000000000001, 450.6001580250645, 486.9759738143238],
 [56.00000000000001, 453.1602294518808, 489.413609136636],
 [56.99999999999999, 455.71634177961175, 491.8575016457354],
 [57.99999999999999, 458.2699463603313, 494.30936411782216],
 [59.0, 460.8225143212171, 496.7709507751512],
 [60.0, 463.3755437987915, 499.2440659112108],
 [61.0, 465.9305676230308, 501.73057317093],
 [62.0, 468.4891615601017, 504.2324056245252],
 [63.0, 471.0529532375304, 506.75157679445806],
 [64.0, 473.6236318944484, 509.2901928209444],
 [65.0, 476.2029591230913, 511.8504659835395],
 [66.0, 478.79278079705017, 514.4347298362092],
 [67.0, 481.3950404183295, 517.0454562628482],
 [68.0, 484.0117941610376, 519.6852748220173],
 [69.0, 486.645227946924, 522.3569948271927],
 [70.0, 489.2976769604671, 525.0636307064943],
 [71.0, 491.9716481030842, 527.8084313096691],
 [72.0, 494.6698460034293, 530.5949139882158],
 [73.0, 497.3952033516693, 533.4269044777851],
 [74.0, 500.15091652128257, 536.3085838755379],
 [75.0, 502.9404876977399, 539.2445443497379],
 [76.0, 505.76777507097273, 542.2398556737879],
 [77.0, 508.6370530985132, 545.3001452835649],
 [78.0, 511.5530854525895, 548.4316953749083],
 [79.0, 514.5212140913843, 551.6415616742318],
 [80.0, 517.5474690369902, 554.9377200580128],
 [81.0, 520.6387050428629, 558.3292493597062],
 [82.0, 523.8027736100756, 561.826561781592],
 [83.0, 527.0487421051581, 565.4416967871005],
 [84.0, 530.387176586451, 569.1887009250739],
 [85.0, 533.8305122488654, 573.0841259396201],
 [86.0, 537.3935466389621, 577.1476927767009],
 [87.0, 541.0941085485005, 581.4031932210195],
 [88.0, 544.9539843658785, 585.8797401608556],
 [89.0, 549.000232187468, 590.61354354216],
 [90.0, 553.2670987020804, 595.6505045472485],
 [91.0, 557.7989084437743, 601.0501315258849],
 [92.0, 562.6545922070032, 606.8916874325336],
 [93.0, 567.915129727844, 613.2843112747877],
 [94.0, 573.6965260423268, 620.3846995214138],
 [95.0, 580.1742125380822, 628.4304283520353],
 [96.0, 587.6337936202003, 637.8094312603412],
 [97.0, 596.5926957642583, 649.2270593443991],
 [98.0, 608.163384210638, 664.2068141702943],
 [99.0, 625.6815278132308, 687.3473944663822],
 [99.1, 628.1376948664421, 690.6332698392455],
 [99.2, 630.8270151941044, 694.2421720924121],
 [99.3, 633.8072325262964, 698.2547761188315],
 [99.4, 637.1615770166101, 702.787563518064],
 [99.5, 641.0167697855898, 708.0182251278333],
 [99.6, 645.5806979718258, 714.2389157875286],
 [99.7, 651.2333868917999, 721.9851304377783],
 [99.8, 658.801089057264, 732.4250704038698],
 [99.9, 670.8006519102586, 749.1343709066604]];
    averages = [[1.0, 202.2116017829552],
    [1.5, 218.6898008025468],
    [2.0, 231.2224181100761],
    [2.5, 241.4628785221838],
    [3.0, 250.18862846984757],
    [3.5000000000000004, 257.83181366016504],
    [4.0, 264.6591552540734],
    [4.5, 270.8476162798426],
    [5.0, 276.5210145574448],
    [5.5, 281.7695895860743],
    [6.0, 286.66127004793367],
    [6.5, 291.2485518737034],
    [7.000000000000001, 295.5728986082294],
    [7.5, 299.6676675179928],
    [8.0, 303.5601194128785],
    [8.5, 307.2728376841029],
    [9.0, 310.8247542967077],
    [9.5, 314.2319071053777],
    [10.0, 317.5080091078732],
    [15.0, 345.0615043835368],
    [20.0, 366.71858266003375],
    [21.0, 370.60047447213407],
    [22.0, 374.3648156169046],
    [23.0, 378.0219680893887],
    [24.0, 381.5810728805161],
    [25.0, 385.0502423481175],
    [26.0, 388.43671618433706],
    [27.0, 391.7469890081687],
    [28.000000000000004, 394.9869156143562],
    [29.0, 398.1617984624862],
    [30.0, 401.27646092772153],
    [31.0, 404.3353090455667],
    [32.0, 407.3423838905503],
    [33.0, 410.30140627926494],
    [34.0, 413.2158151440535],
    [35.0, 416.0888006577959],
    [36.0, 418.923332983229],
    [37.0, 421.7221873578037],
    [38.0, 424.4879660967343],
    [39.0, 427.2231179948351],
    [40.0, 429.9299555260994],
    [41.0, 432.6106701743211],
    [42.0, 435.2673461750231],
    [43.0, 437.9019729059373],
    [44.0, 440.5164561282909],
    [45.0, 443.1126282526279],
    [46.0, 445.6922577796453],
    [47.0, 448.25705804758553],
    [48.0, 450.80869540238],
    [49.0, 453.3487968943988],
    [50.0, 455.878957595884],
    [51.0, 458.4007476255883],
    [52.0, 460.9157189615514],
    [53.0, 463.4254121191372],
    [54.0, 465.93136276931455],
    [55.00000000000001, 468.4351083716337],
    [56.00000000000001, 470.9381948974101],
    [56.99999999999999, 473.4421837213644],
    [57.99999999999999, 475.9486587644553],
    [59.0, 478.4592339770932],
    [60.0, 480.9755612605771],
    [61.0, 483.4993389358048],
    [62.0, 486.0323208825386],
    [63.0, 488.57632649034986],
    [64.0, 491.13325158461816],
    [65.0, 493.7050805186177],
    [66.0, 496.2938996571061],
    [67.0, 498.9019125196532],
    [68.0, 501.5314569054232],
    [69.0, 504.1850243882195],
    [70.0, 506.8652826551808],
    [71.0, 509.5751012697947],
    [72.0, 512.3175815768514],
    [73.0, 515.0960916430831],
    [74.0, 517.9143073555523],
    [75.0, 520.7762610983751],
    [76.0, 523.686399822391],
    [77.0, 526.6496548477209],
    [78.0, 529.6715264473155],
    [79.0, 532.7581872255864],
    [80.0, 535.9166096410733],
    [81.0, 539.1547248927634],
    [82.0, 542.4816230518877],
    [83.0, 545.9078081740979],
    [84.0, 549.445527808317],
    [85.0, 553.1092048701058],
    [86.0, 556.9160130179107],
    [87.0, 560.8866574836482],
    [88.0, 565.0464571695887],
    [89.0, 569.4268807649576],
    [90.0, 574.0677891079472],
    [91.0, 579.02081766127],
    [92.0, 584.3546824542203],
    [93.0, 590.1639087555872],
    [94.0, 596.5840652625984],
    [95.0, 603.8204442581516],
    [96.0, 612.207788008497],
    [97.0, 622.3536948531578],
    [98.0, 635.5676706076013],
    [99.0, 655.7900334010645],
    [99.1, 658.644661494267],
    [99.2, 661.775428104526],
    [99.3, 665.2510257415208],
    [99.4, 669.1705554481838],
    [99.5, 673.6850566999168],
    [99.6, 679.0426037979894],
    [99.7, 685.6973251956814],
    [99.8, 694.6383476564715],
    [99.9, 708.8863268342601]];

        scatterData = [[160.1312261883,47.0238095238],[246.2565758985,72.8174603175],[2.3132780015,1.3888888889],[130.7478595533,37.1031746032],[86.7459553803,21.2301587302],[67.7447638939,11.3095238095],[98.879604115,25.1984126984],[141.9096790797,43.0555555556],[154.9714576988,45.0396825397],[191.840961543,58.9285714286],[160.6852669447,50.9920634921],[234.5303711598,64.880952381],[104.171817809,29.1666666667],[316.6486137118,86.7063492063],[36.2271854614,5.3571428571],[229.8284475077,62.8968253968],[160.203337131,49.0079365079],[197.2345107199,60.9126984127],[84.6854927332,19.246031746],[102.3417922196,27.1825396825],[277.1507245395,80.753968254],[405.6061695166,96.626984127],[133.631642361,39.0873015873],[236.8388193085,70.8333333333],[315.5857014062,84.7222222222],[327.4207240858,90.6746031746],[64.8808216838,9.3253968254],[43.4052441959,7.3412698413],[93.9537548929,23.2142857143],[316.6641144954,88.6904761905],[70.0325427036,13.2936507937],[161.1732942214,52.9761904762],[388.599246018,94.6428571429],[190.3226966707,56.9444444444],[236.6931422466,68.8492063492],[134.1736337058,41.0714285714],[234.9446057014,66.8650793651],[292.7529255137,82.7380952381],[29.5238735709,3.373015873],[256.9412820852,76.7857142857],[463.1943919621,98.6111111111],[256.208198424,74.8015873016],[125.0021424504,31.1507936508],[272.2935595633,78.7698412698],[71.8477912547,15.2777777778],[168.0252897761,54.9603174603],[337.6420173435,92.6587301587],[128.468752891,35.119047619],[126.9356226111,33.1349206349],[81.2574168482,17.2619047619]]

  public options: any = {
    chart: {
        // type: 'scatter',
        inverted: true,
        zoomType: 'xy'
    },
    accessibility: {
        description: '',
    },
    title: {
        text: 'Weibull Chart'
    },
    subtitle: {
        text: ''
    },
   xAxis: {
    labels: {
        format: '{value}%'
      },
        type: 'logarithmic',
        // accessibility: {
        //     rangeDescription: 'Range: 1 to 100'
        reversed: false,
        max: 99.99,
        min:1,
        // },
        title: {
            enabled: true,
            text: 'Fraction Failure'
        },
        startOnTick: true,
        endOnTick: true,
        showLastLabel: true
    },
    yAxis: {
        max: 750,
        type: 'logarithmic',
        title: {
            text: 'Time'
        }
    },
    legend: {
        layout: 'vertical',
        align: 'left',
        verticalAlign: 'top',
        x: 100,
        y: 70,
        floating: true,
        // backgroundColor: Highcharts.defaultOptions.chart.backgroundColor,
        borderWidth: 1
    },
   
    series: [
        {
        name: 'Point Estimate',
        type: 'line',
        data: this.averages,
        zIndex: 1,  
        marker: {
            // fillColor: 'white',
            lineWidth: 2,
            // lineColor: Highcharts.getOptions().colors[0]
        }},
         {
        name: 'Range',
        data: this.ranges,
        type: 'arearange',
        lineWidth: 0,
        linkedTo: ':previous',
        // color: Highcharts.getOptions().colors[0],
        fillOpacity: 0.3,
        zIndex: 0,
        marker: {
            enabled: false
        }},
        // {
        //     name:'scatter',
        //     type:'scatter',
        //     data: this.scatterData,
        // }
]
  }

  constructor() { }

  ngOnInit(){
    Highcharts.chart('container', this.options);
  }
}
